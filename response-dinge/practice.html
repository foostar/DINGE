<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        *{
            margin:0;
            padding:0;
        }
        li{
            list-style:none;
            border-bottom:1px solid #333;
            overflow:hidden;
        }
        .box{
            width:50px;
            height:50px;
            margin:5px 0 5px 20px;
            line-height:60px;
            background:red;
            float:left;
        }
        .handle{
            float:right;
            line-height:60px;
            margin-right:10px;
            cursor:pointer;
        }
    </style>
</head>
<body>
    <ul class="list" id="list">
        <li>
            <div class="box"></div>
            <a class="handle">我点</a>
        </li>
        <li>
            <div class="box"></div>
            <a class="handle">我点</a>
        </li>
        <li>
            <div class="box"></div>
            <a class="handle">我点</a>
        </li>
        <li>
            <div class="box"></div>
            <a class="handle">我点</a>
        </li>
        <li>
            <div class="box"></div>
            <a class="handle">我点</a>
        </li>
    </ul>
    <script type="text/javascript" src="jquery-3.1.0.min.js"></script>
    <script type="text/javascript">
        $("ul").on("click","a",function(){
            var that = this
            step1(that)
            .then(function(result){
                console.log(result)
                return step2(that)
            })
            .then(function(result){
                console.log(result)
                alert("success")
            })  
            //console.log($(e));
        })

        //promise 1. 实例化
        function step1(ele){
            var dtd = $.Deferred() 
            $(ele).prev().animate({"width":"100px"},300,function(){
                dtd.resolve({a:1})
            })
            return dtd
            
        }
        function step2(ele){
            var dtd = $.Deferred() 
            $(ele).prev().animate({"height":"100px"},300,function(){
                dtd.resolve()
            })
            return dtd
        }
        $().on('click')
        $().on('touchstart')
        $().on('toggle')

        $().html("adas")
        $("<div>asadasdas").appendTo()
        /*$("#list li").click(function(e){
            var target = e.target;
            console.log(target);

        })*/
        alert('a')
        $.ajax().done(result => {alert('c')})
        alert('b')
        /*$("#list .handle").click(function(){
            
        })*/

        function List(id){
            this.ele = $("#"+id)
        }
        List.prototype = {
            init:function(){
                this.bindEvent()
                this.render()
            },
            bindEvent:function(){
                this.startMove()
                this.startMove()
            },
            startMove:function(){
                this.ele.on("click","a",function(){
                    step1()
                    .then(function(result){
                        console.log(result)
                        return step2(that)
                    })
                    .then(function(result){
                        console.log(result)
                        alert("success")
                    })  
                })
            },
            step1:function(){

            },
            step2:function(){

            },
            render:function(){

            }

        }
        var list = new List("list")
        list.init()
    </script>
</body>
</html>